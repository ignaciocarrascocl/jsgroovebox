// Keys available
export const KEYS = ['C', 'C#', 'D', 'D#', 'E', 'F', 'F#', 'G', 'G#', 'A', 'A#', 'B']

// Poly Synth patterns - 16 steps per bar, pattern repeats each bar
// Each step can be 0-4: 0=rest, 1=root triad, 2=seventh, 3=inversion, 4=stab
// The pattern is applied to each bar, chord changes every 16 steps
const R = (p) => (Array.isArray(p) ? Array.from({ length: 64 }, (_, i) => p[i % p.length]) : p)
export const POLY_SYNTH_PATTERNS = [
  // Basic patterns
  { name: 'Whole Notes', pattern: R([1,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0]) },
  { name: 'Half Notes', pattern: R([1,0,0,0, 0,0,0,0, 1,0,0,0, 0,0,0,0]) },
  { name: 'Quarter Notes', pattern: R([1,0,0,0, 1,0,0,0, 1,0,0,0, 1,0,0,0]) },
  { name: '8th Notes', pattern: R([1,0,1,0, 1,0,1,0, 1,0,1,0, 1,0,1,0]) },
  
  // Rhythmic patterns
  { name: 'Reggae Skank', pattern: R([0,0,1,0, 0,0,1,0, 0,0,1,0, 0,0,1,0]) },
  { name: 'Funk Stabs', pattern: R([4,0,0,4, 0,0,4,0, 4,0,0,4, 0,4,0,0]) },
  { name: 'Disco', pattern: R([1,0,1,0, 1,0,1,0, 2,0,1,0, 1,0,2,0]) },
  { name: 'House Piano', pattern: R([1,0,0,1, 0,0,1,0, 0,0,1,0, 0,0,1,0]) },
  
  // Arpeggiated patterns
  { name: 'Arpeggio Up', pattern: R([1,0,3,0, 1,0,3,0, 1,0,3,0, 1,0,3,0]) },
  { name: 'Arpeggio Down', pattern: R([3,0,1,0, 3,0,1,0, 3,0,1,0, 3,0,1,0]) },
  { name: 'Bounce', pattern: R([1,0,3,1, 0,3,1,0, 1,0,3,1, 0,3,0,0]) },
  { name: 'Rolling', pattern: R([1,3,1,3, 1,3,1,3, 2,3,2,3, 1,3,1,3]) },
  
  // Syncopated patterns
  { name: 'Syncopated', pattern: R([1,0,0,1, 0,0,0,1, 0,0,1,0, 0,1,0,0]) },
  { name: 'Offbeat', pattern: R([0,0,1,0, 0,0,2,0, 0,0,1,0, 0,0,3,0]) },
  { name: 'Shuffle', pattern: R([1,0,0,1, 0,1,0,0, 2,0,0,1, 0,2,0,0]) },
  
  // Extended/jazzy
  { name: 'Seventh Emphasis', pattern: R([2,0,0,0, 1,0,0,0, 2,0,0,0, 1,0,0,0]) },
  { name: 'Jazz Comp', pattern: R([2,0,0,2, 0,0,2,0, 2,0,0,2, 0,2,0,0]) },
  { name: 'Ballad', pattern: R([1,0,0,0, 2,0,0,0, 1,0,0,0, 3,0,0,0]) },
  
  // Sustained
  { name: 'Pad Sustain', pattern: R([1,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0]) },
  { name: 'Long Waves', pattern: R([1,0,0,0, 0,0,0,0, 2,0,0,0, 0,0,0,0]) },
]

// Wave types for synth
export const WAVE_TYPES = ['sine', 'triangle', 'sawtooth', 'square']

// Poly Synth sound presets - combinations of synth parameters
export const POLY_SYNTH_SOUND_PRESETS = [
  // 1) Warm Piano - mellow, rich
  {
    name: 'Warm Piano',
    waveType: 'sine',
    waveShape: 0.12,
    volume: -8,
    filter: 3200,
    resonance: 1.2,
    attack: 0.005,
    decay: 0.8,
    release: 0.8,
    detune: 3,
    lfoRate: 0,
    lfoDepth: 0,
    lfoWave: 'sine',
    compression: 0.25,
    drive: 0,
    chorus: 0.1,
    reverb: 0.15,
    delay: 0.02,
  },

  // 2) Bright EP - clear, sparkling
  {
    name: 'Bright EP',
    waveType: 'triangle',
    waveShape: 0.35,
    volume: -6,
    filter: 4800,
    resonance: 2.1,
    attack: 0.001,
    decay: 0.6,
    release: 0.6,
    detune: 5,
    lfoRate: 0.15,
    lfoDepth: 80,
    lfoWave: 'sine',
    compression: 0.2,
    drive: 0.02,
    chorus: 0.05,
    reverb: 0.2,
    delay: 0.01,
  },

  // 3) Organ Pad - rich, sustained
  {
    name: 'Organ Pad',
    waveType: 'square',
    waveShape: 0.5,
    volume: -12,
    filter: 2200,
    resonance: 1.8,
    attack: 0.02,
    decay: 1.5,
    release: 1.5,
    detune: 8,
    lfoRate: 0.08,
    lfoDepth: 120,
    lfoWave: 'sine',
    compression: 0.3,
    drive: 0.05,
    chorus: 0.15,
    reverb: 0.35,
    delay: 0,
  },

  // 4) Synth Brass - punchy, bright
  {
    name: 'Synth Brass',
    waveType: 'sawtooth',
    waveShape: 0.25,
    volume: -5,
    filter: 3600,
    resonance: 3.2,
    attack: 0.01,
    decay: 0.4,
    release: 0.4,
    detune: 6,
    lfoRate: 0.2,
    lfoDepth: 100,
    lfoWave: 'sine',
    compression: 0.35,
    drive: 0.08,
    chorus: 0.1,
    reverb: 0.05,
    delay: 0,
  },

  // 5) String Ensemble - lush, detuned
  {
    name: 'Strings',
    waveType: 'sawtooth',
    waveShape: 0.8,
    volume: -14,
    filter: 1800,
    resonance: 1.5,
    attack: 0.8,
    decay: 2.0,
    release: 2.0,
    detune: 15,
    lfoRate: 0.05,
    lfoDepth: 60,
    lfoWave: 'sine',
    compression: 0.2,
    drive: 0,
    chorus: 0.2,
    reverb: 0.6,
    delay: 0.02,
  },

  // 6) Electric Piano - percussive, bright
  {
    name: 'Electric Piano',
    waveType: 'triangle',
    waveShape: 0.3,
    volume: -7,
    filter: 5200,
    resonance: 2.5,
    attack: 0.001,
    decay: 0.3,
    release: 0.3,
    detune: 4,
    lfoRate: 0.25,
    lfoDepth: 150,
    lfoWave: 'sine',
    compression: 0.25,
    drive: 0.03,
    chorus: 0.08,
    reverb: 0.25,
    delay: 0.01,
  },

  // 7) Choir Pad - ethereal, wide
  {
    name: 'Choir',
    waveType: 'sine',
    waveShape: 0.4,
    volume: -16,
    filter: 1400,
    resonance: 1.0,
    attack: 1.2,
    decay: 3.0,
    release: 3.0,
    detune: 20,
    lfoRate: 0.1,
    lfoDepth: 90,
    lfoWave: 'sine',
    compression: 0.15,
    drive: 0,
    chorus: 0.3,
    reverb: 0.7,
    delay: 0.05,
  },

  // 8) FM Lead - metallic, evolving
  {
    name: 'FM Lead',
    waveType: 'sawtooth',
    waveShape: 0.6,
    volume: -4,
    filter: 2800,
    resonance: 4.0,
    attack: 0.02,
    decay: 0.8,
    release: 0.8,
    detune: 12,
    lfoRate: 0.3,
    lfoDepth: 200,
    lfoWave: 'sawtooth',
    compression: 0.3,
    drive: 0.1,
    chorus: 0.05,
    reverb: 0.05,
    delay: 0.02,
  },

  // 9) Wurlitzer - vintage, tremolo
  {
    name: 'Wurlitzer',
    waveType: 'triangle',
    waveShape: 0.22,
    volume: -6,
    filter: 4000,
    resonance: 2.8,
    attack: 0.003,
    decay: 0.5,
    release: 0.5,
    detune: 7,
    lfoRate: 4.0,
    lfoDepth: 180,
    lfoWave: 'sine',
    compression: 0.25,
    drive: 0.04,
    chorus: 0.12,
    reverb: 0.15,
    delay: 0.02,
  },

  // 10) Rhodes - mellow, chorus
  {
    name: 'Rhodes',
    waveType: 'sine',
    waveShape: 0.28,
    volume: -8,
    filter: 2600,
    resonance: 1.8,
    attack: 0.01,
    decay: 0.7,
    release: 0.7,
    detune: 9,
    lfoRate: 0.12,
    lfoDepth: 110,
    lfoWave: 'sine',
    compression: 0.2,
    drive: 0.02,
    chorus: 0.25,
    reverb: 0.28,
    delay: 0.03,
  },

  // 11) Harpsichord - plucky, bright
  {
    name: 'Harpsichord',
    waveType: 'square',
    waveShape: 0.05,
    volume: -9,
    filter: 6000,
    resonance: 3.5,
    attack: 0.001,
    decay: 0.2,
    release: 0.2,
    detune: 2,
    lfoRate: 0,
    lfoDepth: 0,
    lfoWave: 'sine',
    compression: 0.3,
    drive: 0.06,
    chorus: 0,
    reverb: 0.05,
    delay: 0,
  },

  // 12) Synth Wave - modern, filtered
  {
    name: 'Synth Wave',
    waveType: 'sawtooth',
    waveShape: 0.9,
    volume: -6,
    filter: 800,
    resonance: 6.0,
    attack: 0.05,
    decay: 1.2,
    release: 1.2,
    detune: 18,
    lfoRate: 0.5,
    lfoDepth: 250,
    lfoWave: 'sine',
    compression: 0.4,
    drive: 0.12,
    chorus: 0.18,
    reverb: 0.12,
    delay: 0.04,
  },

  // 13) Ambient Pad - slow evolving pad
  {
    name: 'Ambient Pad',
    waveType: 'sine',
    waveShape: 0.6,
    volume: -14,
    filter: 1200,
    resonance: 1.4,
    attack: 1.0,
    decay: 2.5,
    release: 3.5,
    detune: 12,
    lfoRate: 0.08,
    lfoDepth: 80,
    lfoWave: 'sine',
    compression: 0.15,
    drive: 0,
    chorus: 0.25,
    reverb: 0.6,
    delay: 0.06,
  },

  // 14) Plucky Lead - short, percussive lead
  {
    name: 'Plucky Lead',
    waveType: 'triangle',
    waveShape: 0.15,
    volume: -5,
    filter: 2600,
    resonance: 3.4,
    attack: 0.001,
    decay: 0.12,
    release: 0.1,
    detune: 6,
    lfoRate: 0.2,
    lfoDepth: 50,
    lfoWave: 'sine',
    compression: 0.25,
    drive: 0.06,
    chorus: 0.05,
    reverb: 0.02,
    delay: 0.01,
  },

  // 15) Bell - metallic, chiming
  {
    name: 'Bell',
    waveType: 'triangle',
    waveShape: 0.45,
    volume: -6,
    filter: 6000,
    resonance: 6.5,
    attack: 0.001,
    decay: 1.8,
    release: 2.0,
    detune: 14,
    lfoRate: 0.5,
    lfoDepth: 150,
    lfoWave: 'sine',
    compression: 0.25,
    drive: 0.02,
    chorus: 0.02,
    reverb: 0.12,
    delay: 0.02,
  },

  // 16) Retro Pad - lo-fi warm pad
  {
    name: 'Retro Pad',
    waveType: 'sawtooth',
    waveShape: 0.7,
    volume: -7,
    filter: 1100,
    resonance: 2.2,
    attack: 0.2,
    decay: 1.0,
    release: 1.5,
    detune: 10,
    lfoRate: 0.18,
    lfoDepth: 220,
    lfoWave: 'sine',
    compression: 0.25,
    drive: 0.08,
    chorus: 0.2,
    reverb: 0.35,
    delay: 0.03,
  },
]

// Total steps for full progression (4 bars x 16 steps)
export const POLY_SYNTH_TOTAL_STEPS = 64
